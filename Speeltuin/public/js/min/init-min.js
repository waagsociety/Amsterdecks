function init(){Object.keys(fieldSets).forEach(function(t){var e=document.getElementById("sideContainer"),i=document.createElement("a");i.innerHTML=t,i.href="#"+t,i.classList.add("btn","btn-1","btn-1a"),i.setAttribute("data-setname",t),i.onclick=function(t){return t.preventDefault(),loadField(fieldSets[this.dataset.setname]),!1},e.appendChild(i)})}function loadField(t){var e=document.getElementById("map");t.path="/public/fields/",fieldsLoader(t,function(i,n){if(console.log(i||"starting field system"),i)throw i;var d={width:$(e).innerWidth(),height:$(e).innerHeight()},o={width:t.x,height:t.y,fields:n,timePassing:!0},a=$(e).innerWidth()/$(e).innerHeight(),l=o.width/o.height,h=l>a,s=h?$(e).innerHeight()/o.height:$(e).innerWidth()/o.width,r=new MotionDisplay({debugField:!1,background:"rgba(11,41,91,"+trailLenght+")",gridOptions:o,width:Math.floor(o.width*s),height:Math.floor(o.height*s),clipPath:clipPaths[t.setName]});window.md=r,initMotionDisplayControls(r),initVariationControls(r),e.appendChild(r.canvas),r.canvas.style.width=Math.floor(o.width*s)+"px",r.canvas.style.height=Math.floor(o.height*s)+"px";var c=document.getElementById("fieldBtn");c.onclick=function(){md.debugField=!md.debugField,md.debugField&&(md.showFieldSpeed=!md.showFieldSpeed)},$(r.canvas).on("click",function(t){console.log(r.grid.getLocalV({x:t.offsetX,y:t.offsetY})),console.log(r.grid.getLocalV({x:t.offsetX+Math.random(),y:t.offsetY+Math.random()}))})})}$(document).ready(init);