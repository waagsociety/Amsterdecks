function init(){console.log("attempting fields load with random field");var i=document.getElementById("map"),e=fieldSets.grachtengordel;e.path="/public/fields/",fieldsLoader(e,function(t,n){if(console.log(t||"starting field system"),t)throw t;var o={width:$(i).innerWidth(),height:$(i).innerHeight()},d={width:e.x,height:e.y,fields:n,timePassing:!0},a=$(i).innerWidth()/$(i).innerHeight(),h=d.width/d.height,l=h>a,g=l?$(i).innerHeight()/d.height:$(i).innerWidth()/d.width,r=new MotionDisplay({debugField:!1,background:"rgba(11,41,91,"+trailLenght+")",gridOptions:d,width:Math.floor(d.width*g),height:Math.floor(d.height*g),clipPath:window.clipPath});window.md=r,initMotionDisplayControls(r),initVariationControls(r),i.appendChild(r.canvas),r.canvas.style.width=Math.floor(d.width*g)+"px",r.canvas.style.height=Math.floor(d.height*g)+"px",document.addEventListener("keyup",function(i){return console.log(i.keyCode),13===i.keyCode?void(r.debugField?(r.debugField=!1,r.start()):(r.debugField=!0,r.running=!1)):86===i.keyCode?void r.grid.nextVariant():84===i.keyCode?void r.grid.nextTime():void(80===i.keyCode&&r.grid.toggleTimePassing())}),$(r.canvas).on("click",function(i){console.log(r.grid.getLocalV({x:i.offsetX,y:i.offsetY})),console.log(r.grid.getLocalV({x:i.offsetX+Math.random(),y:i.offsetY+Math.random()}))})})}$(document).ready(init);